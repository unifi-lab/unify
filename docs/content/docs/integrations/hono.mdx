---
title: Hono Integration
description: Unify provides seamless Hono integration. This guide shows you how to integrate Unify with Hono for building fast and lightweight web APIs.
---

## Install Dependencies

First, install the required dependency packages:

```package-install
@unilab/unify-hono @unilab/unify-client @unilab/core hono @hono/node-server
```

## Project Structure

```
hono-basic/
├── adapters/
│   ├── user.ts               # User adapter
│   └── post.ts               # Post adapter
├── entities/
│   ├── user.ts               # User entity
│   └── post.ts               # Post entity
├── server.ts                 # Server setup
├── client.ts                 # Client usage
├── package.json
└── tsconfig.json
```

## Entity Definition

Define your entities using Unify decorators:

```typescript
import { Fields } from "@unilab/core";
import { PostEntity } from "./post";

export class UserEntity {
  @Fields.string()
  id = "";

  @Fields.string()
  name = "";

  @Fields.string()
  email = "";

  @Fields.string()
  avatar = "";

  @Fields.array(() => PostEntity, {
    optional: true,
  })
  posts?: PostEntity[];
}
```

## Adapter Implementation

Create adapters to handle data operations:

```typescript
import {
  CreationArgs,
  DataSourceAdapter,
  DeletionArgs,
  FindManyArgs,
  FindOneArgs,
  UpdateArgs,
} from "@unilab/core";
import { UserEntity } from "../entities/user";

export class UserAdapter implements DataSourceAdapter<UserEntity> {
  async findMany(args: FindManyArgs<UserEntity>): Promise<UserEntity[]> {
    // Implementation logic
    return [];
  }

  async findOne(args: FindOneArgs<UserEntity>): Promise<UserEntity | null> {
    // Implementation logic
    return null;
  }

  async create(args: CreationArgs<UserEntity>): Promise<UserEntity> {
    // Implementation logic
    return new UserEntity();
  }

  async update(args: UpdateArgs<UserEntity>): Promise<UserEntity> {
    // Implementation logic
    return new UserEntity();
  }

  async delete(args: DeletionArgs<UserEntity>): Promise<boolean> {
    // Implementation logic
    return false;
  }
}
```

## Server Setup

Configure your Hono server with Unify:

```typescript
import { Unify } from "@unilab/unify-hono";
import { UserAdapter } from "./adapters/user";
import { PostAdapter } from "./adapters/post";
import { UserEntity } from "./entities/user";
import { PostEntity } from "./entities/post";
import { Logging } from "@unilab/core/middleware";
import { Plugin } from "@unilab/core";

const MyPlugin: Plugin = {
  entities: [UserEntity, PostEntity],
  adapters: [
    { source: "user", entityName: "UserEntity", adapter: new UserAdapter() },
    { source: "post", entityName: "PostEntity", adapter: new PostAdapter() },
  ],
};

const app = Unify.init({
  plugins: [MyPlugin],
  middleware: [Logging()],
});

export default {
  port: 3000,
  fetch: app.fetch,
};
```

## Client Usage

Use the Unify client to interact with your API:

```typescript
import { UserEntity } from "./entities/user";
import { repo, UnifyClient } from "@unilab/unify-client";

UnifyClient.init({
  baseUrl: "http://localhost:3000",
  timeout: 10000,
});

// Create a user
const createUser = async () => {
  const data = await repo<UserEntity>("user", "user").create({
    data: {
      name: "John Doe",
      email: "john.doe@example.com",
      avatar: "https://example.com/avatar.jpg",
    },
  });
  console.log("Created user:", data);
};

// Find users
const findUsers = async () => {
  const data = await repo<UserEntity>("user", "user").findMany({
    where: {
      name: "John Doe",
    },
  });
  console.log("Found users:", data);
};
```

## Running the Application

Start your Hono server:

```bash
bun run dev
# or
npm run dev
```

Your Unify-powered Hono API will be available at `http://localhost:3000`.

## Middleware Support

Unify supports various middleware for Hono integration:

- **Logging**: Built-in request/response logging
- **Hooks**: Before/after operation hooks
- **Custom Middleware**: Add your own middleware logic

```typescript
import { createHookMiddleware, Logging } from "@unilab/core/middleware";

const HookMiddleware = createHookMiddleware((hookManager) => {
  hookManager
    .beforeCreate(async (args, _, context) => {
      console.log("Before create:", args);
    })
    .afterCreate(async (args, result, context) => {
      console.log("After create:", result);
    });
});

const app = Unify.init({
  plugins: [MyPlugin],
  middleware: [HookMiddleware, Logging()],
});
```
