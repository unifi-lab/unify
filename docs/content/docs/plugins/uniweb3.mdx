---
title: UniWeb3 Plugin
description: UniWeb3 is a comprehensive blockchain plugin for Unify that provides unified access to multiple blockchain networks. It includes support for EVM-compatible chains and Solana, allowing you to query blockchain data through a consistent API.

---

## Features

- **Multi-Chain Support**: Query data from EVM-compatible chains and Solana
- **Unified API**: Consistent interface across different blockchain networks
- **Balance Queries**: Retrieve account balances across supported networks
- **Type Safety**: Full TypeScript support with type definitions

## Installation

Install the UniWeb3 plugin along with Unify dependencies:

```package-install
@unilab/server @unilab/client @unilab/uniweb3
```

## Server Setup

### Basic Setup

Register the UniWeb3 adapters in your Unify server:

```typescript
import { Unify } from "@unilab/server";
import { SolanaAdapter, EVMAdapter } from "@unilab/uniweb3";

// Register Web3 adapters
const server = Unify.register([
  { source: "solana", adapter: new SolanaAdapter() },
  { source: "evm", adapter: new EVMAdapter() },
]);

console.log("ðŸš€ Starting Unify server on port 3000");
console.log("ðŸ“Š Available endpoints:");
console.log(
  '  GET  /wallet/find_one?source=solana&where={"address":"wallet_address"} - Get Solana wallet balance'
);
console.log(
  '  GET  /wallet/find_one?source=evm&where={"address":"wallet_address","network":"ethereum"} - Get EVM wallet balance'
);

export default {
  port: 3000,
  fetch: server.fetch,
};
```

## Client Usage

### Initializing the Client

```typescript
import { repo, UnifyClient } from "@unilab/client";
import { WalletEntity } from "@unilab/uniweb3/entities";

// Initialize the client
UnifyClient.init({
  baseUrl: "http://localhost:3000",
  timeout: 10000,
});
```

### EVM Wallet Queries

Query account balances on EVM-compatible networks:

```typescript
// Get balance for a specific address on IoTeX network
const evmWallet = await repo<WalletEntity>("wallet", "evm").findOne({
  where: {
    address: "0x4f00D43b5aF0a0aAd62E9075D1bFa86a89CDb9aB",
    network: "iotex",
  },
});

console.log("EVM Wallet:", evmWallet);
```

#### Supported EVM Networks

The EVM adapter supports various networks including:
- `ethereum` - Ethereum mainnet
- `iotex` - IoTeX network
- `polygon` - Polygon
- `bsc` - Binance Smart Chain
- And other EVM-compatible chains

### Solana Wallet Queries

Query account balances on Solana:

```typescript
// Get balance for a Solana address
const solanaWallet = await repo<WalletEntity>("wallet", "solana").findOne({
  where: {
    address: "11111111111111111111111111111112",
  },
});

console.log("Solana Wallet:", solanaWallet);
```

## Complete Example

Here's a complete example showing how to use both adapters:

```typescript
import { repo, UnifyClient } from "@unilab/client";
import { WalletEntity } from "@unilab/uniweb3/entities";

// Initialize the client
UnifyClient.init({
  baseUrl: "http://localhost:3000",
  timeout: 10000,
});

async function queryBalances() {
  try {
    // Query EVM wallet balance
    const evmWallet = await repo<WalletEntity>("wallet", "evm").findOne({
      where: {
        address: "0x4f00D43b5aF0a0aAd62E9075D1bFa86a89CDb9aB",
        network: "iotex",
      },
    });

    if (evmWallet) {
      console.log("EVM Wallet:", evmWallet);
    }

    // Query Solana wallet balance
    const solanaWallet = await repo<WalletEntity>("wallet", "solana").findOne({
      where: {
        address: "11111111111111111111111111111112",
      },
    });

    if (solanaWallet) {
      console.log("Solana Wallet:", solanaWallet);
    }
  } catch (error) {
    console.error("Error querying balances:", error);
  }
}

queryBalances();
```

## API Reference

### WalletEntity Interface

```typescript
interface WalletEntity extends BaseEntity {
  address: string;
  balance: string;
  network: string;
  token?: {
    symbol: string;
    decimals: number;
  };
}
```

### EVM Adapter

#### `repo<WalletEntity>("wallet", "evm").findOne(options)`

Query balance for an EVM wallet address.

**Parameters:**
- `options.where.address`: The wallet address to query
- `options.where.network`: The EVM network to query (e.g., "iotex", "ethereum")

**Returns:**
- Promise resolving to `WalletEntity` or `null`

### Solana Adapter

#### `repo<WalletEntity>("wallet", "solana").findOne(options)`

Query balance for a Solana wallet address.

**Parameters:**
- `options.where.address`: The Solana wallet address to query

**Returns:**
- Promise resolving to `WalletEntity` or `null`

## Integration Examples

The UniWeb3 plugin works seamlessly with various frameworks:

- [Next.js Integration](/docs/integrations/next) - Complete Next.js setup guide
- Express.js Integration - Coming soon
- Fastify Integration - Coming soon

## Best Practices

1. **Error Handling**: Always implement proper error handling for network requests
2. **Rate Limiting**: Be mindful of API rate limits when making frequent requests
3. **Caching**: Consider implementing caching for frequently requested data
4. **Address Validation**: Validate addresses before making requests
5. **Network Selection**: Ensure you're using the correct network identifier for EVM queries
